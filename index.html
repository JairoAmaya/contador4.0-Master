<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Contador 4.0 Academy</title>
    
    <meta name="description" content="Biblioteca Inteligente de Prompts para Contadores. Bonus Track de Contador 4.0.">
    <meta property="og:title" content="Contador 4.0 Academy">
    <meta property="og:description" content="Sistema de transformaci√≥n con IA para contadores. Dise√±ado por Jairo Amaya.">
    <meta property="og:image" content="https://ui-avatars.com/api/?name=Zap&background=0f172a&color=3b82f6&size=512&font-size=0.5">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ö°</text></svg>">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body { background-color: #0f172a; color: #f8fafc; font-family: sans-serif; -webkit-tap-highlight-color: transparent; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        
        /* Animaciones */
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
        .modal-animate { animation: fadeIn 0.2s ease-out forwards; }
        
        /* Animaci√≥n del Personaje Flotante */
        @keyframes float {
            0% { transform: translate(-50%, 0px); }
            50% { transform: translate(-50%, -10px); }
            100% { transform: translate(-50%, 0px); }
        }

        /* Hover links */
        .footer-link:hover { text-shadow: 0 0 10px rgba(96, 165, 250, 0.5); }
    </style>
</head>
<body>
    <div id="root">
        <div style="height:100vh; display:flex; justify-content:center; align-items:center; flex-direction:column; color:#60a5fa; gap: 20px;">
            <img src="personaje-contador.png" alt="Cargando..." style="width: 100px; animation: float 2s ease-in-out infinite;">
            <div style="font-weight: bold; letter-spacing: 1px;">Cargando Contador 4.0...</div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // --- 1. ICONOS SVG ---
        const Icon = ({ name, size = 20, className = "" }) => {
            const props = { xmlns: "http://www.w3.org/2000/svg", width: size, height: size, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round", className };
            const icons = {
                Zap: <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />,
                Search: <><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></>,
                Star: <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />,
                X: <><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></>,
                Check: <polyline points="20 6 9 17 4 12"/>,
                Copy: <><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></>,
                ArrowRight: <><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></>,
                ExternalLink: <><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></>,
                Target: <><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></>,
                PenTool: <><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="M2 2l7.586 7.586"/><circle cx="11" cy="11" r="2"/></>,
                PieChart: <path d="M21.21 15.89A10 10 0 1 1 8 2.83M22 12A10 10 0 0 0 12 2v10z" />,
                Calculator: <><rect x="4" y="2" width="16" height="20" rx="2" /><line x1="8" x2="16" y1="6" y2="6" /><line x1="8" x2="16" y1="18" y2="18" /><path d="M8 10h.01" /><path d="M12 10h.01" /><path d="M16 10h.01" /><path d="M8 14h.01" /><path d="M12 14h.01" /><path d="M16 14h.01" /></>,
                TrendingUp: <><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></>,
                Factory: <path d="M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z" />,
                Building: <><rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><line x1="9" y1="22" x2="9" y2="22"/><line x1="15" y1="22" x2="15" y2="22"/></>,
                Activity: <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>,
                ShoppingCart: <><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></>,
                Hammer: <path d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"/>,
                Laptop: <><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="2" y1="20" x2="22" y2="20"/></>,
                Sprout: <><path d="M7 20h10"/><path d="M10 20c5.5-2.5.8-6.4 3-10"/><path d="M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z"/><path d="M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z"/></>,
                Heart: <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>,
                Calendar: <><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></>,
                Award: <><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></>,
                Database: <><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></>,
                ChevronDown: <polyline points="6 9 12 15 18 9"/>
            };
            return <svg {...props}>{icons[name] || <circle cx="12" cy="12" r="10"/>}</svg>;
        };

        const AIButton = ({ name, url, color }) => (
            <a href={url} target="_blank" rel="noopener noreferrer" className={`flex-1 flex items-center justify-center gap-2 py-3 px-3 rounded-xl text-xs font-bold text-white transition-all hover:scale-105 active:scale-95 shadow-lg ${color}`}>
                {name} <Icon name="ExternalLink" size={14} />
            </a>
        );

        // --- 2. BASE DE DATOS PROMPTS ---
        const promptsData = [
            { title: "üìä Costos y Gesti√≥n", color: "bg-pink-600", iconName: "Calculator", subcategories: [{ title: "Estrat√©gico", prompts: [ { id: 101, title: "Dise√±o de Costeo ABC", prompt: "Act√∫a como experto en Costos. Dise√±a una estructura preliminar de Costeo Basado en Actividades (ABC) para el √°rea de [Nombre del √Årea]. Identifica las 5 actividades principales, prop√≥n sus 'Cost Drivers' y sugiere c√≥mo asignar los Costos Indirectos de Fabricaci√≥n (CIF) que suman [Monto Total CIF].", cuandoUsar: "Optimizar asignaci√≥n", tiempoEstimado: "90 min" }, { id: 102, title: "Punto de Equilibrio Multiproducto", prompt: "Calcula el punto de equilibrio para una mezcla. Producto A: Precio [Precio A], CV [Costo Var A], Mix [Mix A]%. Producto B: Precio [Precio B], CV [Costo Var B], Mix [Mix B]%. Costos fijos totales: [Costos Fijos]. Genera tabla de sensibilidad.", cuandoUsar: "Planeaci√≥n utilidades", tiempoEstimado: "60 min" }, { id: 103, title: "An√°lisis Variaciones (Est√°ndar vs Real)", prompt: "Analiza la variaci√≥n de [Monto Variaci√≥n] en [Materia Prima/MOD]. Est√°ndar: [Costo Est√°ndar], Real: [Costo Real]. Desglosa Variaci√≥n Precio vs Variaci√≥n Cantidad y redacta explicaci√≥n para gerencia.", cuandoUsar: "Control presupuestal", tiempoEstimado: "45 min" }, { id: 104, title: "Decisi√≥n Fabricar o Comprar", prompt: "Analiza si fabricar [Componente] internamente o subcontratar. Costo interno variable: [Costo Var Unitario]. Precio proveedor: [Precio Proveedor]. Costos fijos evitables: [Costos Fijos Evitables]. Volumen: [Unidades].", cuandoUsar: "Estrategia operaciones", tiempoEstimado: "60 min" }, { id: 105, title: "Teor√≠a de Restricciones (TOC)", prompt: "Determina mezcla √≥ptima. Prod X: Margen [Margen X], Horas M√°quina [Horas X]. Prod Y: Margen [Margen Y], Horas M√°quina [Horas Y]. Capacidad cuello de botella: [Total Horas] horas.", cuandoUsar: "Maximizar producci√≥n", tiempoEstimado: "60 min" }, { id: 106, title: "Costo Capacidad Ociosa", prompt: "Calcula el costo financiero de capacidad ociosa en planta [Nombre Planta]. Capacidad te√≥rica: [Capacidad Max], Producci√≥n real: [Prod Real]. Costos fijos: [Costos Fijos]. Sugiere 3 estrategias de monetizaci√≥n.", cuandoUsar: "Eficiencia activos", tiempoEstimado: "45 min" }, { id: 107, title: "Target Costing", prompt: "Aplica Target Costing para producto [Nombre]. Precio mercado: [Precio]. Margen deseado: [Margen]%. Calcula costo objetivo m√°ximo y desglosa √°reas de reducci√≥n.", cuandoUsar: "Lanzamiento productos", tiempoEstimado: "90 min" }, { id: 108, title: "Margen de Contribuci√≥n", prompt: "Analiza rentabilidad de l√≠nea [L√≠nea]. Ventas: [Ventas]. CV: [Costos Var]. CF Directos: [Costos Fijos]. Calcula Margen de Contribuci√≥n y Segmento. ¬øEliminar o potenciar?", cuandoUsar: "An√°lisis portafolio", tiempoEstimado: "45 min" }, { id: 109, title: "Presupuesto Producci√≥n", prompt: "Genera presupuesto producci√≥n trimestral [Producto]. Ventas: [Ventas]. Inv Inicial: [Inv Inicial]. Pol√≠tica Inv Final: [Politica]%. Calcula unidades a producir por mes.", cuandoUsar: "Planeaci√≥n operativa", tiempoEstimado: "60 min" }, { id: 110, title: "Control de Mermas", prompt: "Analiza reporte mermas [Proceso]. Est√°ndar: [Est√°ndar]%, Real: [Real]%. Costo producci√≥n: [Costo]. Calcula impacto econ√≥mico y checklist de control.", cuandoUsar: "Auditor√≠a calidad", tiempoEstimado: "45 min" } ] }] },
            { title: "üí∞ Presupuestos", color: "bg-emerald-600", iconName: "TrendingUp", subcategories: [{ title: "Forecasting", prompts: [ { id: 201, title: "Presupuesto Base Cero (ZBB)", prompt: "Gu√≠a para ZBB departamento [Depto]. Genera cuestionario para justificar cada partida de gasto y matriz de decisi√≥n para priorizar paquetes.", cuandoUsar: "Recortes gastos", tiempoEstimado: "120 min" }, { id: 202, title: "Rolling Forecast 12 Meses", prompt: "Dise√±a modelo Rolling Forecast para [Empresa]. Define drivers clave a actualizar mensualmente y c√≥mo proyectar tesorer√≠a en alta volatilidad.", cuandoUsar: "Entorno vol√°til", tiempoEstimado: "90 min" }, { id: 203, title: "An√°lisis de Escenarios", prompt: "Crea 3 escenarios (Base, Optimista, Pesimista) para el presupuesto [A√±o]. Variable cr√≠tica: [Variable Clave, ej: Tasa Cambio]. Impacto en EBITDA.", cuandoUsar: "Gesti√≥n riesgos", tiempoEstimado: "60 min" }, { id: 204, title: "Proyecci√≥n Flujo de Caja", prompt: "Proyecta Cash Flow directo a 13 semanas. Saldo inicial: [Saldo]. Cobros estimados: [Cobros]. Pagos fijos: [Pagos]. Identifica semanas con d√©ficit de caja.", cuandoUsar: "Gesti√≥n tesorer√≠a", tiempoEstimado: "60 min" }, { id: 205, title: "CAPEX vs OPEX", prompt: "Eval√∫a si la adquisici√≥n de [Activo/Software] por [Monto] debe ser CAPEX o OPEX bajo NIIF. Analiza impacto en EBITDA y Flujo de Caja.", cuandoUsar: "Decisi√≥n inversi√≥n", tiempoEstimado: "30 min" }, { id: 206, title: "Ajuste Inflacionario", prompt: "Ajusta el presupuesto de gastos operativos por inflaci√≥n proyectada de [Inflaci√≥n]%. Categor√≠as afectadas: N√≥mina, Arriendos, Servicios. Calcula nuevo presupuesto.", cuandoUsar: "Entorno inflacionario", tiempoEstimado: "45 min" }, { id: 207, title: "Presupuesto de Ventas (Estacional)", prompt: "Crea presupuesto de ventas mensual para [Producto] considerando estacionalidad hist√≥rica: Q1 [Q1]%, Q2 [Q2]%, Q3 [Q3]%, Q4 [Q4]%. Meta anual: [Meta Anual].", cuandoUsar: "Inicio a√±o comercial", tiempoEstimado: "45 min" }, { id: 208, title: "Variaci√≥n Presupuestal Mensual", prompt: "Redacta informe de variaci√≥n mensual. Real: [Real]. Presupuesto: [Presupuesto]. Explica desviaci√≥n en [Partida Espec√≠fica] y plan de acci√≥n correctivo.", cuandoUsar: "Cierre mensual", tiempoEstimado: "30 min" }, { id: 209, title: "Presupuesto de Personal (Headcount)", prompt: "Calcula costo integral de n√≥mina para [Num Empleados] nuevos empleados. Salario base: [Base]. Cargas sociales: [Cargas]%. Beneficios: [Beneficios].", cuandoUsar: "Expansi√≥n equipo", tiempoEstimado: "45 min" }, { id: 210, title: "Alineaci√≥n KPIs y Presupuesto", prompt: "Define 5 KPIs financieros que deben monitorearse para asegurar el cumplimiento del presupuesto de [√Årea]. Establece sem√°foros de alerta.", cuandoUsar: "Control gesti√≥n", tiempoEstimado: "60 min" } ] }] },
            { title: "üè≠ Industrial", color: "bg-slate-600", iconName: "Factory", subcategories: [{ title: "Manufactura", prompts: [ { id: 301, title: "Costeo por √ìrdenes", prompt: "Estructura hoja de costos para Orden #[Numero]. MP Directa: [MP]. MOD: [Horas] a [Tarifa]. CIF asignado base horas m√°quina: [Horas Maq] a [Tasa CIF].", cuandoUsar: "Producci√≥n a pedido", tiempoEstimado: "60 min" }, { id: 302, title: "Producci√≥n Equivalente", prompt: "Calcula producci√≥n equivalente. Unidades terminadas: [Terminadas]. En proceso: [En Proceso] con avance MP [Avance MP]% y Conversi√≥n [Avance Conv]%.", cuandoUsar: "Cierre costos proceso", tiempoEstimado: "45 min" }, { id: 303, title: "Costo de Calidad", prompt: "Calcula Costo de Calidad (COQ). Prevenci√≥n: [Monto]. Evaluaci√≥n: [Monto]. Fallas Internas: [Monto]. Fallas Externas: [Monto]. Analiza inversi√≥n vs riesgo.", cuandoUsar: "Mejora continua", tiempoEstimado: "60 min" }, { id: 304, title: "Valoraci√≥n Inventarios (Promedio)", prompt: "Calcula valor final inventario usando Promedio Ponderado. Saldo inicial: [Cant] a [Costo]. Compra 1: [Cant] a [Costo]. Venta: [Cant].", cuandoUsar: "Kardex", tiempoEstimado: "30 min" }, { id: 305, title: "Obsolescencia de Inventarios", prompt: "Calcula provisi√≥n por obsolescencia (VNR). Item [Item], Costo Libro: [Costo], Precio Venta Estimado: [Precio], Gastos Venta: [Gastos]. Asiento contable.", cuandoUsar: "Cierre anual", tiempoEstimado: "45 min" }, { id: 306, title: "Costeo de Mantenimiento", prompt: "Analiza si el Dpto de Mantenimiento debe ser centro de costos o utilidad. Presupuesto anual: [Monto]. Horas servicio a producci√≥n: [Horas]. Calcula tarifa interna.", cuandoUsar: "Asignaci√≥n costos", tiempoEstimado: "60 min" }, { id: 307, title: "Cadena de Suministro (Landed Cost)", prompt: "Calcula costo puesto en bodega (Landed Cost) de importaci√≥n [Producto]. FOB: [FOB]. Flete: [Flete]. Seguro: [Seguro]. Arancel: [Arancel]%. Gastos puerto: [Gastos].", cuandoUsar: "Importaciones", tiempoEstimado: "45 min" }, { id: 308, title: "Eficiencia Energ√©tica", prompt: "Analiza impacto de alza energ√©tica. Costo energ√≠a actual: [Costo KWh]. Consumo mensual: [Consumo]. Inversi√≥n maquinaria eficiente: [Inversi√≥n] ahorro [Ahorro]%. Payback.", cuandoUsar: "Proyectos ahorro", tiempoEstimado: "60 min" }, { id: 309, title: "Gesti√≥n de Desechos", prompt: "Contabilizaci√≥n de venta de subproductos/desechos [Tipo]. Ingreso estimado: [Ingreso]. ¬øSe debe deducir del costo de producci√≥n o reconocer como otros ingresos?", cuandoUsar: "Venta chatarra", tiempoEstimado: "30 min" }, { id: 310, title: "Capacidad Instalada Real", prompt: "Calcula OEE (Overall Equipment Effectiveness) de m√°quina [Nombre]. Disponibilidad: [Disp]%, Rendimiento: [Rend]%, Calidad: [Calidad]%. Interpreta resultado.", cuandoUsar: "Eficiencia planta", tiempoEstimado: "45 min" } ] }] },
            { title: "üè¢ Inmobiliaria", color: "bg-stone-500", iconName: "Building", subcategories: [{ title: "Real Estate", prompts: [ { id: 401, title: "IFRS 16 Arrendamientos", prompt: "Calcula Activo Derecho Uso y Pasivo Arrendamiento. Canon: [Canon]. Plazo: [Plazo]. Tasa incremental: [Tasa]%. Opci√≥n compra: [Si/No]. Tabla amortizaci√≥n.", cuandoUsar: "Nuevo contrato", tiempoEstimado: "60 min" }, { id: 402, title: "Valor Razonable (NIC 40)", prompt: "Contabiliza ajuste a Valor Razonable propiedad inversi√≥n [Direcci√≥n]. Valor Libros: [Valor Libros]. Aval√∫o Nuevo: [Aval√∫o]. Impacto en Estado Resultados vs ORI.", cuandoUsar: "Cierre fiscal", tiempoEstimado: "45 min" }, { id: 403, title: "Cap Rate An√°lisis", prompt: "Calcula Cap Rate de propiedad [Nombre]. NOI (Ingreso Operativo Neto) anual: [NOI]. Valor de mercado propiedad: [Valor]. Compara con mercado [Cap Rate Mercado]%.", cuandoUsar: "Evaluaci√≥n inversi√≥n", tiempoEstimado: "30 min" }, { id: 404, title: "Cash Flow Inmobiliario", prompt: "Proyecta flujo caja desarrollo inmobiliario [Nombre Proyecto]. Ventas mes a mes: [Cronograma Ventas]. Costos construcci√≥n: [Costos]. Tasa descuento: [WACC]%. Calcula VAN y TIR.", cuandoUsar: "Feasibility study", tiempoEstimado: "90 min" }, { id: 405, title: "Amortizaci√≥n Mejoras (Leasehold)", prompt: "Define pol√≠tica amortizaci√≥n para mejoras en propiedad arrendada [Tipo Mejora]. Valor: [Valor]. Duraci√≥n contrato: [A√±os Contrato]. Vida √∫til mejora: [Vida √ötil].", cuandoUsar: "Remodelaciones", tiempoEstimado: "30 min" }, { id: 406, title: "Rentabilidad por m2", prompt: "Analiza rentabilidad mix inquilinos centro comercial. Local A ([m2] m2, Renta [Renta]). Local B ([m2] m2, Renta [Renta]). Costo operaci√≥n m2: [Costo Op].", cuandoUsar: "Gesti√≥n mall", tiempoEstimado: "45 min" }, { id: 407, title: "Impuestos Diferidos Propiedades", prompt: "Calcula impuesto diferido por revaluaci√≥n activo. Base fiscal: [Base Fiscal]. Base contable (Valor Razonable): [Base Contable]. Tasa impositiva: [Tasa]%.", cuandoUsar: "Cierre anual", tiempoEstimado: "60 min" }, { id: 408, title: "Costos de Vacancia", prompt: "Estima impacto financiero de vacancia en edificio [Nombre]. Tasa vacancia actual: [Tasa]%. Costo oportunidad rentas: [Rentas Perdidas]. Gastos mantenimiento unidades vac√≠as: [Gastos].", cuandoUsar: "Presupuesto anual", tiempoEstimado: "45 min" }, { id: 409, title: "Administraci√≥n Propiedades", prompt: "Estructura centro de costos para servicio administraci√≥n propiedades. Ingresos: % recaudo [Porcentaje]%. Gastos directos personal y software. Punto equilibrio.", cuandoUsar: "Nueva unidad negocio", tiempoEstimado: "60 min" }, { id: 410, title: "Plusval√≠a Proyectos", prompt: "Calcula plusval√≠a esperada terreno [Ubicaci√≥n] tras cambio uso de suelo. Valor actual: [Valor]. Valor proyectado con permisos: [Valor Futuro]. Costo tr√°mites: [Costos].", cuandoUsar: "Especulaci√≥n tierras", tiempoEstimado: "45 min" } ] }] },
            { title: "üè• Sector Salud", color: "bg-cyan-500", iconName: "Activity", subcategories: [{ title: "Hospitalario", prompts: [ { id: 501, title: "Gesti√≥n de Glosas", prompt: "Protocolo respuesta glosas aseguradora [Aseguradora]. Motivo: [Motivo Glosa]. Monto: [Monto]. Redacta argumento basado en norma [Normativa] y historia cl√≠nica.", cuandoUsar: "Recuperaci√≥n cartera", tiempoEstimado: "60 min" }, { id: 502, title: "Costo por Paciente/Cama", prompt: "Calcula costo d√≠a cama hospitalizaci√≥n. Costos fijos piso: [Fijos]. Personal enfermer√≠a: [Personal]. Ocupaci√≥n promedio: [Ocupaci√≥n]%. Insumos variables promedio: [Insumos].", cuandoUsar: "Tarifario", tiempoEstimado: "60 min" }, { id: 503, title: "Margen por Especialidad", prompt: "Compara rentabilidad Cardiolog√≠a vs Ortopedia. Ingresos Cardio: [Ingresos C]. Costos Directos Cardio: [Costos C]. Ingresos Orto: [Ingresos O]. Costos Directos Orto: [Costos O].", cuandoUsar: "Estrategia m√©dica", tiempoEstimado: "60 min" }, { id: 504, title: "Inventario Farmacia", prompt: "Dise√±a control inventario medicamentos alto costo [Nombre Medicamento]. Rotaci√≥n actual: [Rotaci√≥n]. Riesgo vencimiento. Pol√≠tica de stock m√≠nimo y m√°ximo.", cuandoUsar: "Gesti√≥n farmacia", tiempoEstimado: "45 min" }, { id: 505, title: "Activos Fijos M√©dicos", prompt: "Eval√∫a vida √∫til y m√©todo depreciaci√≥n equipo [Equipo, ej: RM]. Costo: [Costo]. Uso intensivo: [Horas/D√≠a]. ¬øDepreciaci√≥n l√≠nea recta o unidades producidas?", cuandoUsar: "Activos fijos", tiempoEstimado: "30 min" }, { id: 506, title: "Recaudo Aseguradoras", prompt: "Analiza antig√ºedad cartera por pagador. EPS A: [D√≠as Mora]. EPS B: [D√≠as Mora]. Calcula provisi√≥n deterioro cartera seg√∫n NIIF 9 matriz de riesgo.", cuandoUsar: "Cierre financiero", tiempoEstimado: "60 min" }, { id: 507, title: "Honorarios M√©dicos", prompt: "Dise√±a esquema pago variable m√©dicos. Base: [Base]. Variable: [Porcentaje]% sobre procedimientos realizados. Bonificaci√≥n por satisfacci√≥n paciente: [Bono].", cuandoUsar: "Contrataci√≥n", tiempoEstimado: "45 min" }, { id: 508, title: "Punto Equilibrio Cl√≠nica", prompt: "Calcula PE cl√≠nica mensual. Gastos Fijos (N√≥mina, Arriendo): [Fijos]. Ticket promedio consulta: [Valor]. Margen contribuci√≥n promedio: [Margen]%.", cuandoUsar: "Planeaci√≥n", tiempoEstimado: "45 min" }, { id: 509, title: "Presupuesto Hospitalario", prompt: "Presupuesta ingresos por venta servicios urgencias. Hist√≥rico atenciones: [Num Atenciones]. Incremento tarifas: [IPC]%. Tasa ocupaci√≥n esperada: [Tasa]%.", cuandoUsar: "Presupuesto anual", tiempoEstimado: "60 min" }, { id: 510, title: "An√°lisis Estancia Media", prompt: "Analiza impacto financiero de reducir estancia media en [D√≠as] d√≠as. Ahorro costos hoteler√≠a: [Ahorro Diario]. Incremento capacidad facturaci√≥n nuevos pacientes.", cuandoUsar: "Eficiencia operativa", tiempoEstimado: "60 min" } ] }] },
            { title: "üõí Retail", color: "bg-orange-500", iconName: "ShoppingCart", subcategories: [{ title: "Comercio", prompts: [ { id: 601, title: "GMROI An√°lisis", prompt: "Calcula GMROI (Retorno Margen Bruto sobre Inversi√≥n Inventario) categor√≠a [Categoria]. Margen Bruto: [Margen]. Inventario Promedio Costo: [Inv Prom]. Interpreta resultado.", cuandoUsar: "Evaluaci√≥n inventario", tiempoEstimado: "30 min" }, { id: 602, title: "Ventas por m2", prompt: "Compara eficiencia tiendas. Tienda A: Ventas [Ventas A], √Årea [Area A]. Tienda B: Ventas [Ventas B], √Årea [Area B]. Identifica tienda m√°s productiva.", cuandoUsar: "Benchmarking tiendas", tiempoEstimado: "30 min" }, { id: 603, title: "An√°lisis Markdown", prompt: "Calcula impacto financiero de estrategia liquidaci√≥n. Inventario obsoleto: [Unidades]. Costo: [Costo]. Precio original: [Precio]. Descuento propuesto: [Descuento]%. Recuperaci√≥n vs P√©rdida.", cuandoUsar: "Liquidaci√≥n", tiempoEstimado: "45 min" }, { id: 604, title: "Shrinkage (P√©rdida)", prompt: "Contabiliza p√©rdida inventario (robo/merma). Conteo f√≠sico: [Cant F√≠sica]. Sistema: [Cant Sistema]. Diferencia: [Diferencia]. Costo unitario: [Costo]. Asiento ajuste.", cuandoUsar: "Toma f√≠sica", tiempoEstimado: "30 min" }, { id: 605, title: "Costo Log√≠stico E-commerce", prompt: "Calcula costo total cumplimiento pedido (Fulfillment). Picking/Packing: [Costo P]. Material empaque: [Empaque]. Env√≠o last-mile: [Env√≠o]. Tasa devoluciones: [Tasa]%.", cuandoUsar: "Rentabilidad online", tiempoEstimado: "60 min" }, { id: 606, title: "Margen por Categor√≠a", prompt: "Analiza P&L categor√≠a [Nombre]. Ventas: [Ventas]. Costo Venta: [CMV]. Rebates proveedores: [Rebates]. Mermas: [Mermas]. Gastos mercadeo directo: [Mercadeo].", cuandoUsar: "Category management", tiempoEstimado: "60 min" }, { id: 607, title: "Break-even Tienda", prompt: "Punto equilibrio nueva tienda [Ubicaci√≥n]. Alquiler: [Alquiler]. Personal: [Personal]. Servicios: [Servicios]. Ticket promedio: [Ticket]. Margen promedio: [Margen]%.", cuandoUsar: "Expansi√≥n", tiempoEstimado: "45 min" }, { id: 608, title: "Inventario Fantasma", prompt: "Dise√±a auditor√≠a para detectar inventario fantasma (sistema dice que hay, estante vac√≠o). Productos cr√≠ticos: [Lista]. Frecuencia conteos c√≠clicos.", cuandoUsar: "Control interno", tiempoEstimado: "45 min" }, { id: 609, title: "Costo Fidelizaci√≥n", prompt: "Calcula pasivo por puntos lealtad no redimidos. Puntos circulantes: [Puntos]. Tasa redenci√≥n estimada: [Tasa]%. Costo promedio premio: [Costo]. Ajuste IFRS 15.", cuandoUsar: "Cierre contable", tiempoEstimado: "60 min" }, { id: 610, title: "Omnicanalidad", prompt: "Asignaci√≥n ingresos venta online con retiro en tienda (Click & Collect). ¬øIngreso es de ecommerce o tienda f√≠sica? Define pol√≠tica comisiones vendedores.", cuandoUsar: "Pol√≠tica ventas", tiempoEstimado: "45 min" } ] }] },
            { title: "üèóÔ∏è Construcci√≥n", color: "bg-yellow-600", iconName: "Hammer", subcategories: [{ title: "Proyectos", prompts: [ { id: 701, title: "Avance de Obra (POC)", prompt: "Calcula reconocimiento ingresos NIC 11/NIIF 15. Costos incurridos: [Incurridos]. Costos totales estimados: [Totales]. Ingreso total contrato: [Contrato]. Asiento ingreso periodo.", cuandoUsar: "Cierre mensual", tiempoEstimado: "60 min" }, { id: 702, title: "Control Anticipos", prompt: "Conciliaci√≥n anticipo subcontratista [Nombre]. Anticipo entregado: [Monto]. Actas obra aprobadas: [Actas]. Amortizaci√≥n aplicada: [Amortizaci√≥n]. Saldo por amortizar.", cuandoUsar: "Pagos semanales", tiempoEstimado: "45 min" }, { id: 703, title: "Flujo Caja Obra", prompt: "Proyecta flujo caja semanal obra [Nombre]. Entradas (Anticipo cliente + Valuaciones): [Entradas]. Salidas (N√≥mina sem + Materiales + Subcontratos): [Salidas].", cuandoUsar: "Tesorer√≠a obra", tiempoEstimado: "60 min" }, { id: 704, title: "Materiales vs Mano Obra", prompt: "Analiza desviaci√≥n costos. Materiales: Presupuesto [Pres Mat] vs Real [Real Mat]. Mano Obra: Presupuesto [Pres MO] vs Real [Real MO]. Identifica causa ra√≠z.", cuandoUsar: "Control costos", tiempoEstimado: "60 min" }, { id: 705, title: "Gastos Generales (Overhead)", prompt: "Distribuci√≥n gastos generales oficina central a proyectos activos [Lista Proyectos]. Base asignaci√≥n: [Base, ej: Costos Directos]. Calcula cuota parte proyecto [Proyecto X].", cuandoUsar: "Asignaci√≥n costos", tiempoEstimado: "45 min" }, { id: 706, title: "Fondo Garant√≠a", prompt: "Contabilizaci√≥n retenci√≥n garant√≠a cliente 10%. Factura actual: [Monto]. Retenci√≥n: [Retenci√≥n]. Cuenta por cobrar neta. Clasificaci√≥n activo corriente vs no corriente.", cuandoUsar: "Facturaci√≥n", tiempoEstimado: "30 min" }, { id: 707, title: "Liquidaci√≥n Subcontratista", prompt: "Prepara liquidaci√≥n final subcontratista [Nombre]. Total contrato: [Total]. Pagado: [Pagado]. Descuentos materiales: [Descuentos]. Retenciones: [Retenciones]. Saldo final.", cuandoUsar: "Fin contrato", tiempoEstimado: "60 min" }, { id: 708, title: "Comparativo Presupuestal", prompt: "Genera reporte S-Curve avance financiero vs f√≠sico. Avance financiero: [Financiero]%. Avance f√≠sico real en obra: [F√≠sico]%. Alerta si pagado > ejecutado.", cuandoUsar: "Comit√© obra", tiempoEstimado: "45 min" }, { id: 709, title: "Viabilidad Proyecto", prompt: "Estudio viabilidad financiera nuevo proyecto [Tipo]. Ventas estimadas: [Ventas]. Costo terreno: [Terreno]. Costo construcci√≥n m2: [Costo m2]. Margen utilidad esperado.", cuandoUsar: "Nuevos negocios", tiempoEstimado: "90 min" }, { id: 710, title: "Activos Fijos Obra", prompt: "Control maquinaria amarilla. Equipo: [Equipo]. Hor√≥metro inicio: [Inicio]. Hor√≥metro fin: [Fin]. Costo hora: [Costo]. Asignar costo uso a centro costos proyecto.", cuandoUsar: "Cierre mes", tiempoEstimado: "30 min" } ] }] },
            { title: "üíª SaaS", color: "bg-indigo-500", iconName: "Laptop", subcategories: [{ title: "Tech Startups", prompts: [ { id: 801, title: "MRR Waterfall", prompt: "Construye reporte MRR Waterfall mes [Mes]. MRR Inicio: [Inicio]. New MRR: [New]. Expansion MRR: [Expansion]. Churn MRR: [Churn]. Contraction MRR: [Contraction].", cuandoUsar: "Reporte inversores", tiempoEstimado: "60 min" }, { id: 802, title: "Churn Rate Impacto", prompt: "Analiza impacto financiero Churn Rate. Churn actual: [Tasa]%. Ingresos perdidos anualizados: [Monto]. Inversi√≥n necesaria en marketing para reponer esos clientes.", cuandoUsar: "Estrategia retenci√≥n", tiempoEstimado: "45 min" }, { id: 803, title: "CAC Payback", prompt: "Calcula meses recuperaci√≥n CAC. Costo Adquisici√≥n Promedio: [CAC]. ARPU (Ingreso promedio usuario): [ARPU]. Margen Bruto %: [Margen]%. F√≥rmula Payback.", cuandoUsar: "Unit economics", tiempoEstimado: "30 min" }, { id: 804, title: "LTV C√°lculo", prompt: "Calcula Lifetime Value. ARPU: [ARPU]. Gross Margin: [Margin]%. Churn Rate Mensual: [Churn]%. LTV = (ARPU * Margin) / Churn. Eval√∫a ratio LTV:CAC.", cuandoUsar: "Valoraci√≥n", tiempoEstimado: "30 min" }, { id: 805, title: "Cohort Analysis", prompt: "Dise√±a tabla an√°lisis cohortes retenci√≥n. Usuarios adquiridos en [Mes Inico]. % activos mes 1, mes 2, mes 3... mes 12. Identifica tendencia retenci√≥n.", cuandoUsar: "An√°lisis producto", tiempoEstimado: "60 min" }, { id: 806, title: "Deferred Revenue (NIIF 15)", prompt: "Asiento diferido contrato anual cobrado anticipado. Valor: [Valor]. Fecha inicio: [Fecha]. Reconocimiento mensual ingreso recurrente (ARR).", cuandoUsar: "Facturaci√≥n anual", tiempoEstimado: "30 min" }, { id: 807, title: "Capitalizaci√≥n Desarrollo", prompt: "Eval√∫a si desarrollo software [Funcionalidad] cumple criterios NIC 38 para capitalizar. Fase: [Fase]. Costo developers: [Costo]. Viabilidad t√©cnica comercial.", cuandoUsar: "Cierre desarrollo", tiempoEstimado: "60 min" }, { id: 808, title: "Rule of 40", prompt: "Calcula Regla del 40. Tasa Crecimiento Ingresos: [Growth]%. Margen EBITDA: [EBITDA]%. Suma: [Suma]. ¬øEs empresa saludable para Venture Capital?", cuandoUsar: "Benchmarking VC", tiempoEstimado: "30 min" }, { id: 809, title: "Stock Options (ESOP)", prompt: "Contabilizaci√≥n gasto opciones acciones empleados (NIIF 2). Opciones otorgadas: [Cantidad]. Valor razonable opci√≥n (Black-Scholes): [Valor]. Periodo vesting: [A√±os].", cuandoUsar: "Cierre anual", tiempoEstimado: "60 min" }, { id: 810, title: "Gross Margin SaaS", prompt: "Calcula margen bruto real. Ingresos: [Ingresos]. Costos directos (Hosting AWS/Azure + Soporte + Customer Success): [Costos]. Comparativo benchmark 80%.", cuandoUsar: "An√°lisis financiero", tiempoEstimado: "45 min" } ] }] },
            { title: "üåæ Agronegocios", color: "bg-green-600", iconName: "Sprout", subcategories: [{ title: "Campo", prompts: [ { id: 901, title: "Activos Biol√≥gicos (NIC 41)", prompt: "Valoraci√≥n activo biol√≥gico [Cultivo/Ganado]. Estado desarrollo: [Estado]. Costos incurridos: [Costos]. Valor mercado actual: [Valor Mercado]. Ajuste valor razonable.", cuandoUsar: "Cierre ejercicio", tiempoEstimado: "60 min" }, { id: 902, title: "Costeo Cultivo (Fases)", prompt: "Acumulaci√≥n costos cultivo [Nombre] por hect√°rea. Fase preparaci√≥n: [Costo]. Siembra: [Costo]. Mantenimiento: [Costo]. Cosecha: [Costo]. Costo total tonelada.", cuandoUsar: "Fin ciclo", tiempoEstimado: "60 min" }, { id: 903, title: "Rendimiento Hect√°rea", prompt: "An√°lisis varianza rendimiento. Presupuesto: [Ton/Ha Pres]. Real: [Ton/Ha Real]. Precio mercado: [Precio]. Impacto financiero diferencia rendimiento.", cuandoUsar: "Cosecha", tiempoEstimado: "45 min" }, { id: 904, title: "Depreciaci√≥n Plantaciones", prompt: "C√°lculo depreciaci√≥n cultivo permanente [Tipo, ej: Caf√©/Palma]. Vida √∫til productiva: [A√±os]. Valor residual: [Valor]. Costo formaci√≥n: [Costo].", cuandoUsar: "Activos fijos", tiempoEstimado: "30 min" }, { id: 905, title: "Costos Cosecha", prompt: "An√°lisis costo recolecci√≥n. Mano de obra: [MO]. Maquinaria: [Maq]. Transporte a planta: [Flete]. Costo por Kg recolectado vs precio venta.", cuandoUsar: "Temporada cosecha", tiempoEstimado: "45 min" }, { id: 906, title: "Riesgo Clim√°tico", prompt: "Estimaci√≥n impacto financiero p√©rdida por [Evento Clim√°tico]. Hect√°reas afectadas: [Has]. Costo hundido: [Costo]. Recuperaci√≥n seguro cosecha: [Seguro]. P√©rdida neta.", cuandoUsar: "Siniestro", tiempoEstimado: "60 min" }, { id: 907, title: "Ganader√≠a (Cr√≠a vs Engorde)", prompt: "Separaci√≥n costos hato. Costo mantenimiento vacas cr√≠a (Activo fijo): [Costo]. Costo levante terneros (Inventario): [Costo]. Asignaci√≥n costos indirectos.", cuandoUsar: "Contabilidad ganadera", tiempoEstimado: "60 min" }, { id: 908, title: "Subsidios Agr√≠colas", prompt: "Registro contable subsidio gobierno [Nombre Subsidio]. Monto: [Monto]. Condiciones cumplimiento: [Condiciones]. ¬øReconocer como ingreso inmediato o pasivo diferido?", cuandoUsar: "Recepci√≥n fondos", tiempoEstimado: "45 min" }, { id: 909, title: "Inventario Insumos", prompt: "Control rotaci√≥n insumos agr√≠colas (Fertilizantes/Agroqu√≠micos). Inventario actual: [Valor]. Consumo ciclo: [Consumo]. D√≠as inventario y riesgo vencimiento.", cuandoUsar: "Auditor√≠a almac√©n", tiempoEstimado: "45 min" }, { id: 910, title: "Flujo Caja Estacional", prompt: "Planificaci√≥n tesorer√≠a ciclo agr√≠cola. Meses inversi√≥n (flujo negativo): [Meses]. Meses cosecha (ingreso): [Meses]. Necesidad financiaci√≥n capital trabajo: [Monto].", cuandoUsar: "Inicio siembra", tiempoEstimado: "90 min" } ] }] },
            { title: "üéì OSFL / ONG", color: "bg-violet-500", iconName: "Heart", subcategories: [{ title: "Fundaciones", prompts: [ { id: 1001, title: "Fondos Restringidos", prompt: "Contabilidad fondos donante [Donante]. Restricci√≥n uso: [Uso]. Monto recibido: [Monto]. Ejecutado a fecha: [Ejecutado]. Saldo disponible y reporte cumplimiento.", cuandoUsar: "Gesti√≥n donaciones", tiempoEstimado: "60 min" }, { id: 1002, title: "Allocation Gastos", prompt: "Metodolog√≠a distribuci√≥n gastos administrativos (Overhead) a programas misionales [Prog A, Prog B]. Base asignaci√≥n: [Base]. % Gasto Admin vs Gasto Misional.", cuandoUsar: "Cierre anual", tiempoEstimado: "60 min" }, { id: 1003, title: "Reporte a Donantes", prompt: "Genera estructura reporte financiero para [Donante]. Comparativo Presupuesto vs Ejecuci√≥n rubros: [Rubros]. Explicaci√≥n narrativa desviaciones y logros.", cuandoUsar: "Rendici√≥n cuentas", tiempoEstimado: "90 min" }, { id: 1004, title: "Sostenibilidad Financiera", prompt: "An√°lisis diversificaci√≥n ingresos. % Donaciones: [Donaciones]%. % Servicios propios: [Servicios]%. % Subvenciones: [Subvenciones]%. Riesgo dependencia donante principal.", cuandoUsar: "Estrategia", tiempoEstimado: "45 min" }, { id: 1005, title: "Valoraci√≥n Voluntariado", prompt: "C√°lculo aporte en especie voluntarios. Horas voluntariado a√±o: [Horas]. Valor hora mercado: [Valor]. Nota a estados financieros sobre aporte social.", cuandoUsar: "Memoria anual", tiempoEstimado: "30 min" }, { id: 1006, title: "Fundraising Efficiency", prompt: "Calcula ratio eficiencia recaudaci√≥n. Costos Fundraising (Eventos+Mkt): [Costos]. Total Fondos Recaudados: [Recaudo]. Costo por cada $1 recaudado.", cuandoUsar: "Evaluaci√≥n gesti√≥n", tiempoEstimado: "30 min" }, { id: 1007, title: "Presupuesto por Programa", prompt: "Elabora presupuesto proyecto [Nombre]. Personal directo: [Personal]. Vi√°ticos: [Vi√°ticos]. Materiales: [Materiales]. % Admin permitido por donante: [Porcentaje]%.", cuandoUsar: "Formulaci√≥n proyecto", tiempoEstimado: "60 min" }, { id: 1008, title: "Cash Flow Subvenciones", prompt: "Proyecci√≥n caja considerando desembolsos por tramos. Tramo 1: [Fecha/Monto]. Tramo 2 (contra entrega informe): [Fecha/Monto]. Gastos mensuales fijos proyecto.", cuandoUsar: "Inicio convenio", tiempoEstimado: "45 min" }, { id: 1009, title: "Transparencia Compliance", prompt: "Checklist cumplimiento legal/tributario ESAL a√±o [A√±o]. Declaraci√≥n renta, Renovaci√≥n c√°mara, Reportes entes control, Certificados donaci√≥n. Estado actual.", cuandoUsar: "Auditor√≠a cumplimiento", tiempoEstimado: "60 min" }, { id: 1010, title: "Reserva Operativa", prompt: "C√°lculo meta reserva operativa (ahorro). Gastos operativos mensuales promedio: [Gastos]. Meta cobertura (ej: 3 meses): [Meses]. D√©ficit/Super√°vit actual reserva.", cuandoUsar: "Pol√≠tica financiera", tiempoEstimado: "30 min" } ] }] },
            { title: "üìä An√°lisis Financiero", color: "bg-blue-600", iconName: "PieChart", subcategories: [{ title: "General", prompts: [ { id: 1, title: "An√°lisis Vertical/Horizontal", prompt: "Realiza an√°lisis vertical y horizontal balance [Empresa]. A√±o 1 vs A√±o 2. Identifica variaciones >10%.", cuandoUsar: "Cierre anual", tiempoEstimado: "30 min" }, { id: 2, title: "Diagn√≥stico Dupont", prompt: "Calcula ROE sistema Dupont. Margen Neto: [Margen]. Rotaci√≥n Activos: [Rotaci√≥n]. Apalancamiento: [Mult].", cuandoUsar: "An√°lisis rentabilidad", tiempoEstimado: "30 min" } ] }] },
            { title: "‚öñÔ∏è Impuestos", color: "bg-red-600", iconName: "Calendar", subcategories: [{ title: "Fiscal", prompts: [ { id: 10, title: "Planeaci√≥n Tributaria", prompt: "Estrategias optimizaci√≥n renta a√±o [A√±o] para empresa sector [Sector]. Ingresos: [Ingresos]. Deducciones proyectadas.", cuandoUsar: "Pre-cierre", tiempoEstimado: "60 min" } ] }] }
        ];

        // --- 3. COMPONENTES UI ---
        const HowItWorks = () => (
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div className="bg-slate-900 border border-slate-800 p-4 rounded-xl flex items-start gap-4">
                    <div className="bg-blue-900/30 p-2 rounded-lg text-blue-400 mt-1"><Icon name="Search" size={20}/></div>
                    <div>
                        <h3 className="font-bold text-slate-200 text-sm mb-1">1. Encuentra tu Prompt</h3>
                        <p className="text-xs text-slate-400">Usa el buscador o filtra por categor√≠as (Costos, Impuestos, SaaS...) para hallar lo que necesitas.</p>
                    </div>
                </div>
                <div className="bg-slate-900 border border-slate-800 p-4 rounded-xl flex items-start gap-4">
                    <div className="bg-purple-900/30 p-2 rounded-lg text-purple-400 mt-1"><Icon name="PenTool" size={20}/></div>
                    <div>
                        <h3 className="font-bold text-slate-200 text-sm mb-1">2. Personaliza</h3>
                        <p className="text-xs text-slate-400">El sistema detecta variables como [Empresa] o [Monto]. Llena los campos para adaptar el prompt.</p>
                    </div>
                </div>
                <div className="bg-slate-900 border border-slate-800 p-4 rounded-xl flex items-start gap-4">
                    <div className="bg-green-900/30 p-2 rounded-lg text-green-400 mt-1"><Icon name="Zap" size={20}/></div>
                    <div>
                        <h3 className="font-bold text-slate-200 text-sm mb-1">3. Copia y Usa</h3>
                        <p className="text-xs text-slate-400">Copia el resultado y p√©galo directamente en ChatGPT, Claude o Gemini para obtener tu respuesta.</p>
                    </div>
                </div>
            </div>
        );

        // --- COMPONENTE FOOTER ACTUALIZADO CON PERSONAJE FLOTANTE ---
        const Footer = () => (
            <div style={{ width: "100%", overflowX: "hidden", fontFamily: "sans-serif" }}>

              {/* MARGEN SUPERIOR: Espacio para que el personaje no tape contenido */}
              <div style={{ backgroundColor: "#0f172a", position: "relative", marginTop: "130px", borderTop: "1px solid #1e293b" }}>

                {/* ü§ñ PERSONAJE FLOTANTE CON BURBUJA */}
                <div style={{
                    position: "absolute",
                    top: "-120px", 
                    left: "50%", 
                    transform: "translateX(-50%)", 
                    zIndex: 10, 
                    width: "160px", 
                    animation: "float 4s ease-in-out infinite"
                }}>
                    
                    {/* üí¨ BURBUJA DE CHAT (CTA) */}
                    <div style={{
                        position: "absolute",
                        top: "-50px",
                        left: "50%",
                        transform: "translateX(-50%)",
                        backgroundColor: "#ffffff",
                        color: "#0f172a",
                        padding: "8px 16px",
                        borderRadius: "25px",
                        fontSize: "0.85rem",
                        fontWeight: "700",
                        whiteSpace: "nowrap",
                        boxShadow: "0 5px 15px rgba(0,0,0,0.4)",
                        pointerEvents: "none"
                    }}>
                        ¬°Potencia tu carrera! üöÄ
                        {/* Tri√°ngulo de la burbuja */}
                        <div style={{
                            position: "absolute",
                            bottom: "-6px",
                            left: "50%",
                            transform: "translateX(-50%)",
                            width: 0, 
                            height: 0, 
                            borderLeft: "6px solid transparent",
                            borderRight: "6px solid transparent",
                            borderTop: "6px solid #ffffff"
                        }}>
                        </div>
                    </div>

                    {/* üñºÔ∏è IMAGEN DEL PERSONAJE */}
                    {/* Aseg√∫rate de que el archivo personaje-contador.png est√© en la carpeta */}
                    <img src="personaje-contador.png" alt="Asistente Contador 4.0" 
                         style={{ width: "100%", height: "auto", display: "block", filter: "drop-shadow(0px 10px 20px rgba(96, 165, 250, 0.3))" }} /> 
                </div>

                {/* ‚ö° L√çNEA DE NE√ìN AZUL */}
                <div style={{ height: "4px", background: "linear-gradient(90deg, #0f172a 0%, #3b82f6 50%, #0f172a 100%)", boxShadow: "0 0 25px rgba(59, 130, 246, 0.6)", position: "relative", zIndex: 5 }}></div>

                {/* üìÑ CONTENIDO DEL FOOTER */}
                <footer style={{ color: "#ffffff", padding: "80px 20px 40px 20px", textAlign: "center", backgroundColor: "#0f172a" }}>
                  
                  {/* T√≠tulo Principal */}
                  <div className="flex justify-center items-center gap-2 mb-4 text-blue-500">
                    <Icon name="Zap" size={24} />
                    <span className="font-bold tracking-widest text-lg text-slate-200">CONTADOR 4.0 ACADEMY</span>
                  </div>

                  {/* Autor y Enlace */}
                  <p style={{ margin: "0 0 30px 0", fontSize: "1rem", color: "#94a3b8" }}>
                    Herramienta de productividad dise√±ada por <br />
                    <a href="https://jairoamaya.co" target="_blank" rel="noopener noreferrer" 
                       className="footer-link"
                       style={{ color: "#60a5fa", textDecoration: "none", fontWeight: "600", borderBottom: "1px dotted #60a5fa", transition: "all 0.3s ease" }}>
                      Jairo Amaya - Full stack Marketer
                    </a>
                  </p>

                  {/* Caja "Bonus Track" */}
                  <div style={{
                      background: "linear-gradient(180deg, rgba(30, 41, 59, 0.7) 0%, rgba(15, 23, 42, 0.4) 100%)", 
                      border: "1px solid #334155", 
                      borderRadius: "12px", 
                      padding: "20px", 
                      maxWidth: "550px", 
                      margin: "0 auto 40px auto",
                      boxShadow: "0 10px 30px -10px rgba(0,0,0,0.3)"
                  }}>
                    <p style={{ margin: 0, fontSize: "0.9rem", color: "#cbd5e1", lineHeight: "1.6" }}>
                      <span style={{ color: "#facc15", fontSize: "1.1rem", verticalAlign: "middle", marginRight: "5px" }}>‚òÖ</span> 
                      Como <em>Bonus Track</em> de <strong>Contador 4.0</strong>: Sistema de transformaci√≥n con IA para contadores.
                    </p>
                  </div>

                  {/* Separador Sutil */}
                  <hr style={{ border: 0, borderTop: "1px solid #334155", margin: "0 auto 20px auto", maxWidth: "150px" }} />
                  
                  {/* Copyright */}
                  <p style={{ margin: 0, fontSize: "0.75rem", color: "#64748b" }}>
                    Todos los derechos reservados ¬© 2025
                  </p>

                </footer>
              </div>
            </div>
        );

        // --- 4. APP PRINCIPAL ---
        const App = () => {
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedCategory, setSelectedCategory] = useState('all');
            const [selectedPrompt, setSelectedPrompt] = useState(null);
            const [copiedId, setCopiedId] = useState(null);
            const [promptVariables, setPromptVariables] = useState({});
            const [visibleCount, setVisibleCount] = useState(9);
            const [favorites, setFavorites] = useState(() => {
                try { return JSON.parse(localStorage.getItem('favorites')) || []; } catch(e) { return []; }
            });

            useEffect(() => { try { localStorage.setItem('favorites', JSON.stringify(favorites)); } catch(e){} }, [favorites]);
            useEffect(() => { setVisibleCount(9); }, [searchTerm, selectedCategory]);

            const allPrompts = useMemo(() => {
                const flat = [];
                promptsData.forEach(cat => cat.subcategories.forEach(sub => sub.prompts.forEach(p => flat.push({ ...p, categoryName: cat.title, categoryColor: cat.color, iconName: cat.iconName, subcategoryName: sub.title }))));
                return flat;
            }, []);

            const filteredPrompts = useMemo(() => {
                return allPrompts.filter(p => {
                    const matchesSearch = (p.title + p.prompt).toLowerCase().includes(searchTerm.toLowerCase());
                    if (selectedCategory === 'favorites') return matchesSearch && favorites.includes(p.id);
                    return matchesSearch && (selectedCategory === 'all' || p.categoryName === selectedCategory);
                });
            }, [allPrompts, searchTerm, selectedCategory, favorites]);

            useEffect(() => {
                if (selectedPrompt) {
                    const regex = /\[(.*?)\]/g;
                    const matches = [...selectedPrompt.prompt.matchAll(regex)];
                    const variables = {};
                    matches.forEach(m => { if (m[1]) variables[m[1]] = ""; });
                    setPromptVariables(variables);
                }
            }, [selectedPrompt]);

            const finalPrompt = useMemo(() => {
                if (!selectedPrompt) return "";
                let text = selectedPrompt.prompt;
                Object.entries(promptVariables).forEach(([key, val]) => {
                    const replacement = val.trim() !== "" ? val : `[${key}]`;
                    text = text.split(`[${key}]`).join(replacement);
                });
                return text;
            }, [selectedPrompt, promptVariables]);

            const copyText = () => {
                navigator.clipboard.writeText(finalPrompt);
                setCopiedId(selectedPrompt.id);
                setTimeout(() => setCopiedId(null), 2000);
            };

            const toggleFav = (id) => {
                setFavorites(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);
            };

            const visiblePrompts = filteredPrompts.slice(0, visibleCount);

            return (
                <div className="min-h-screen">
                    <nav className="sticky top-0 z-50 bg-slate-900/95 backdrop-blur border-b border-slate-800 px-4 py-3 shadow-xl">
                        <div className="max-w-7xl mx-auto flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="bg-gradient-to-br from-blue-600 to-indigo-600 p-2 rounded-xl shadow-lg shadow-blue-500/20"><Icon name="Zap" className="text-white" size={24} /></div>
                                <div><h1 className="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400">Contador 4.0 Academy</h1><p className="text-xs text-slate-400 font-medium tracking-wide">MASTER SUITE</p></div>
                            </div>
                            <button onClick={() => setSelectedCategory('favorites')} className={`flex items-center gap-2 py-1.5 px-3 rounded-full border transition-all ${selectedCategory === 'favorites' ? 'bg-yellow-500/10 border-yellow-500 text-yellow-400' : 'bg-slate-800 border-slate-700 hover:border-slate-500'}`}>
                                <Icon name="Star" size={14} className={selectedCategory === 'favorites' ? 'text-yellow-400' : 'text-slate-400'} fill="currentColor" />
                                <span className={`text-sm font-bold ${selectedCategory === 'favorites' ? 'text-yellow-400' : 'text-slate-300'}`}>{favorites.length}</span>
                            </button>
                        </div>
                    </nav>

                    <main className="max-w-7xl mx-auto px-4 py-8">
                        <HowItWorks />
                        <div className="flex flex-col md:flex-row gap-4 mb-8">
                            <div className="relative flex-1 group">
                                <span className="absolute left-3 top-3.5 text-slate-500"><Icon name="Search" size={20} /></span>
                                <input type="text" placeholder="Buscar prompt..." value={searchTerm} onChange={e => setSearchTerm(e.target.value)} className="w-full bg-slate-800 border border-slate-700 rounded-xl py-3 pl-10 pr-4 text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all shadow-sm" />
                            </div>
                            <div className="md:w-72 relative">
                                <select value={selectedCategory} onChange={e => setSelectedCategory(e.target.value)} className="w-full bg-slate-800 border border-slate-700 rounded-xl py-3 px-4 text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer appearance-none">
                                    <option value="all">Todas las Categor√≠as</option>
                                    <option value="favorites">‚≠ê Mis Favoritos</option>
                                    {promptsData.map(c => <option key={c.title} value={c.title}>{c.title}</option>)}
                                </select>
                                <div className="absolute right-4 top-3.5 pointer-events-none text-slate-400"><Icon name="ChevronDown" size={16} /></div>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            {visiblePrompts.map(p => (
                                <div key={p.id} onClick={() => setSelectedPrompt(p)} className="group bg-slate-900 rounded-2xl border border-slate-800 hover:border-blue-500/50 hover:shadow-xl hover:shadow-blue-900/10 transition-all duration-300 cursor-pointer flex flex-col relative overflow-hidden h-full">
                                    <div className={`h-1.5 w-full ${p.categoryColor}`} />
                                    <div className="p-5 flex flex-col flex-1">
                                        <div className="flex justify-between items-start mb-3">
                                            <div className="flex items-center gap-2">
                                                <span className="p-1.5 rounded-lg bg-slate-800 text-slate-300 group-hover:bg-slate-700 group-hover:text-white transition-colors"><Icon name={p.iconName} size={18} /></span>
                                                <span className="text-[10px] font-bold uppercase tracking-wider text-slate-500">{p.subcategoryName}</span>
                                            </div>
                                            <button onClick={(e) => { e.stopPropagation(); toggleFav(p.id); }} className="text-slate-600 hover:text-yellow-400 p-1 transition-colors z-10"><Icon name="Star" size={18} fill={favorites.includes(p.id) ? "currentColor" : "none"} /></button>
                                        </div>
                                        <h3 className="font-bold text-lg text-slate-100 mb-2 leading-tight group-hover:text-blue-400 transition-colors">{p.title}</h3>
                                        <p className="text-sm text-slate-400 line-clamp-3 mb-4 flex-1">{p.prompt}</p>
                                        <div className="flex items-center justify-between pt-4 border-t border-slate-800 mt-auto">
                                            <span className="text-xs font-medium text-slate-500 bg-slate-800/50 px-2 py-1 rounded border border-slate-800">‚è± {p.tiempoEstimado}</span>
                                            <div className="flex items-center gap-1 text-sm font-semibold text-blue-500 opacity-0 group-hover:opacity-100 transform translate-x-[-10px] group-hover:translate-x-0 transition-all duration-300">Usar <Icon name="ArrowRight" size={16} /></div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {visibleCount < filteredPrompts.length && (
                            <div className="flex justify-center mt-12">
                                <button onClick={() => setVisibleCount(prev => prev + 9)} className="bg-slate-800 hover:bg-slate-700 text-white font-semibold py-3 px-8 rounded-xl border border-slate-700 transition-all shadow-lg hover:shadow-blue-500/20 active:scale-95">Cargar m√°s prompts ({filteredPrompts.length - visibleCount} restantes)</button>
                            </div>
                        )}

                        {filteredPrompts.length === 0 && <div className="text-center py-20 opacity-50"><p>No se encontraron resultados.</p></div>}
                    </main>

                    <Footer />

                    {selectedPrompt && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 modal-animate">
                            <div className="absolute inset-0 bg-black/80 backdrop-blur-sm" onClick={() => setSelectedPrompt(null)} />
                            <div className="relative w-full max-w-5xl bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 flex flex-col max-h-[90vh] overflow-hidden">
                                <div className="px-6 py-4 border-b border-slate-800 bg-slate-800/50 flex justify-between items-center shrink-0">
                                    <div className="flex items-center gap-4">
                                        <div className={`p-3 rounded-xl ${selectedPrompt.categoryColor} bg-opacity-20`}><Icon name={selectedPrompt.iconName} size={24} className="text-white" /></div>
                                        <div><h2 className="text-xl font-bold text-white leading-tight">{selectedPrompt.title}</h2><p className="text-sm text-slate-400">{selectedPrompt.categoryName}</p></div>
                                    </div>
                                    <div className="flex items-center gap-3">
                                        <button onClick={() => toggleFav(selectedPrompt.id)} className={`p-2 rounded-lg transition-colors ${favorites.includes(selectedPrompt.id) ? 'text-yellow-400 bg-yellow-400/10' : 'text-slate-400 hover:text-yellow-400'}`}><Icon name="Star" size={24} fill={favorites.includes(selectedPrompt.id) ? "currentColor" : "none"} /></button>
                                        <button onClick={() => setSelectedPrompt(null)} className="p-2 bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white rounded-lg transition-colors"><Icon name="X" size={28} /></button>
                                    </div>
                                </div>
                                <div className="flex flex-col lg:flex-row flex-1 overflow-hidden">
                                    <div className="w-full lg:w-1/3 bg-slate-800/30 border-r border-slate-800 p-6 overflow-y-auto">
                                        <div className="mb-6 p-4 bg-slate-800/50 rounded-xl border border-slate-700/50"><h4 className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 flex items-center gap-2"><Icon name="Target" size={14} /> Contexto</h4><p className="text-sm text-slate-300">{selectedPrompt.cuandoUsar}</p></div>
                                        <h4 className="text-xs font-bold text-blue-400 uppercase tracking-wider mb-4 flex items-center gap-2"><Icon name="PenTool" size={14} /> Personalizar</h4>
                                        <div className="space-y-4">{Object.keys(promptVariables).length > 0 ? Object.keys(promptVariables).map(key => (<div key={key}><label className="text-xs font-semibold text-slate-400 ml-1 mb-1 block">{key}</label><input className="w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder-slate-600" placeholder={`Escribe ${key}...`} value={promptVariables[key]} onChange={e => setPromptVariables({...promptVariables, [key]: e.target.value})} /></div>)) : (<div className="text-center p-4 border border-dashed border-slate-700 rounded-xl text-slate-500 text-sm">Este prompt no requiere variables.</div>)}</div>
                                    </div>
                                    <div className="w-full lg:w-2/3 p-6 flex flex-col bg-slate-900 overflow-hidden">
                                        <div className="flex-1 relative mb-4 overflow-hidden"><textarea readOnly value={finalPrompt} className="w-full h-full bg-slate-950 border border-slate-800 rounded-xl p-6 text-slate-300 font-mono text-sm leading-relaxed resize-none focus:outline-none focus:border-slate-700 shadow-inner" /></div>
                                        <div className="flex flex-col gap-3 shrink-0">
                                            <button onClick={copyText} className={`w-full flex items-center justify-center gap-2 px-6 py-4 rounded-xl font-bold text-white shadow-lg transition-all transform active:scale-95 ${copiedId === selectedPrompt.id ? 'bg-green-500' : 'bg-blue-600 hover:bg-blue-500'}`}><Icon name={copiedId === selectedPrompt.id ? "Check" : "Copy"} size={20} />{copiedId === selectedPrompt.id ? "¬°Copiado!" : "Copiar Prompt"}</button>
                                            <div className="grid grid-cols-3 gap-3 pt-2"><AIButton name="ChatGPT" url="https://chat.openai.com" color="bg-emerald-600" /><AIButton name="Claude" url="https://claude.ai" color="bg-orange-600" /><AIButton name="Gemini" url="https://gemini.google.com" color="bg-blue-600" /></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
